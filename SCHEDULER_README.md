# YouTubeæœºå™¨äººå®šæ—¶è°ƒåº¦å™¨ä½¿ç”¨è¯´æ˜

## æ¦‚è¿°

è¿™ä¸ªå®šæ—¶è°ƒåº¦å™¨å¯ä»¥è®©YouTubeè‡ªåŠ¨åŒ–æœºå™¨äººæŒ‰ç…§é¢„è®¾çš„æ—¶é—´è¡¨è‡ªåŠ¨è¿è¡Œï¼Œæ— éœ€æ‰‹åŠ¨å¯åŠ¨ã€‚æ”¯æŒå¤šç§è°ƒåº¦æ¨¡å¼ï¼ŒåŒ…æ‹¬æ¯æ—¥ã€æ¯å°æ—¶ã€æ¯å‘¨ç­‰ã€‚

## åŠŸèƒ½ç‰¹æ€§

- âœ… **å¤šç§è°ƒåº¦æ¨¡å¼**: æ”¯æŒæ¯æ—¥ã€æ¯å°æ—¶ã€æ¯å‘¨å®šæ—¶è¿è¡Œ
- âœ… **é…ç½®æ–‡ä»¶ç®¡ç†**: é€šè¿‡JSONé…ç½®æ–‡ä»¶è½»æ¾ç®¡ç†è°ƒåº¦è®¾ç½®
- âœ… **æ—¥å¿—è®°å½•**: è¯¦ç»†çš„è¿è¡Œæ—¥å¿—ï¼Œä¾¿äºç›‘æ§å’Œè°ƒè¯•
- âœ… **è¿›ç¨‹ç®¡ç†**: é˜²æ­¢é‡å¤è¿è¡Œï¼Œç¡®ä¿ç³»ç»Ÿç¨³å®š
- âœ… **çµæ´»é…ç½®**: å¯ä»¥å¯ç”¨/ç¦ç”¨ç‰¹å®šçš„è°ƒåº¦ä»»åŠ¡
- âœ… **é”™è¯¯å¤„ç†**: å®Œå–„çš„é”™è¯¯å¤„ç†å’Œæ¢å¤æœºåˆ¶

## å¿«é€Ÿå¼€å§‹

### 1. å¯åŠ¨è°ƒåº¦å™¨

**æ–¹æ³•ä¸€ï¼šä½¿ç”¨æ‰¹å¤„ç†æ–‡ä»¶ï¼ˆæ¨èï¼‰**
```bash
# åŒå‡»è¿è¡Œ
start_scheduler.bat
```

**æ–¹æ³•äºŒï¼šä½¿ç”¨PowerShellè„šæœ¬**
```powershell
# å³é”® -> ä½¿ç”¨PowerShellè¿è¡Œ
.\start_scheduler.ps1
```

**æ–¹æ³•ä¸‰ï¼šå‘½ä»¤è¡Œå¯åŠ¨**
```bash
# æ¿€æ´»è™šæ‹Ÿç¯å¢ƒ
.\venv_new\Scripts\Activate.ps1

# å¯åŠ¨è°ƒåº¦å™¨
python scheduler.py start
```

### 2. æŸ¥çœ‹è°ƒåº¦è®¡åˆ’

```bash
python scheduler.py schedule
```

### 3. ç«‹å³è¿è¡Œä¸€æ¬¡ï¼ˆæµ‹è¯•ç”¨ï¼‰

```bash
python scheduler.py run
```

## é…ç½®æ–‡ä»¶è¯´æ˜

è°ƒåº¦å™¨çš„é…ç½®ä¿å­˜åœ¨ `scheduler_config.json` æ–‡ä»¶ä¸­ï¼š

### åŸºæœ¬è®¾ç½®

```json
{
    "scheduler_settings": {
        "enabled": true,                    // æ˜¯å¦å¯ç”¨è°ƒåº¦å™¨
        "timezone": "Asia/Shanghai",        // æ—¶åŒºè®¾ç½®
        "log_level": "INFO",               // æ—¥å¿—çº§åˆ«
        "max_concurrent_runs": 1,          // æœ€å¤§å¹¶å‘è¿è¡Œæ•°
        "execution_timeout_minutes": 120   // æ‰§è¡Œè¶…æ—¶æ—¶é—´ï¼ˆåˆ†é’Ÿï¼‰
    }
}
```

### è°ƒåº¦ä»»åŠ¡é…ç½®

#### æ¯æ—¥å®šæ—¶ä»»åŠ¡
```json
{
    "name": "morning_run",
    "enabled": true,
    "type": "daily",
    "time": "09:00",
    "description": "æ¯å¤©ä¸Šåˆ9ç‚¹è¿è¡Œ"
}
```

#### æ¯å°æ—¶ä»»åŠ¡
```json
{
    "name": "hourly_run",
    "enabled": false,
    "type": "hourly",
    "interval": 2,
    "description": "æ¯2å°æ—¶è¿è¡Œä¸€æ¬¡"
}
```

#### æ¯å‘¨ä»»åŠ¡
```json
{
    "name": "weekly_run",
    "enabled": false,
    "type": "weekly",
    "day": "monday",
    "time": "10:00",
    "description": "æ¯å‘¨ä¸€ä¸Šåˆ10ç‚¹è¿è¡Œ"
}
```

## é»˜è®¤è°ƒåº¦è®¡åˆ’

ç³»ç»Ÿé»˜è®¤é…ç½®äº†ä»¥ä¸‹è°ƒåº¦ä»»åŠ¡ï¼š

- ğŸŒ… **ä¸Šåˆ9ç‚¹**: æ¯å¤©ä¸Šåˆ9ç‚¹è¿è¡Œ
- ğŸŒ **ä¸‹åˆ2ç‚¹**: æ¯å¤©ä¸‹åˆ2ç‚¹è¿è¡Œ  
- ğŸŒ™ **æ™šä¸Š8ç‚¹**: æ¯å¤©æ™šä¸Š8ç‚¹è¿è¡Œ

## æ—¥å¿—æ–‡ä»¶

è°ƒåº¦å™¨ä¼šç”Ÿæˆä»¥ä¸‹æ—¥å¿—æ–‡ä»¶ï¼š

- `scheduler.log`: è°ƒåº¦å™¨è¿è¡Œæ—¥å¿—
- `youtube_bot.log`: æœºå™¨äººæ‰§è¡Œæ—¥å¿—

## å¸¸ç”¨æ“ä½œ

### ä¿®æ”¹è°ƒåº¦æ—¶é—´

1. ç¼–è¾‘ `scheduler_config.json` æ–‡ä»¶
2. ä¿®æ”¹å¯¹åº”ä»»åŠ¡çš„ `time` å­—æ®µ
3. é‡å¯è°ƒåº¦å™¨

### æ·»åŠ æ–°çš„è°ƒåº¦ä»»åŠ¡

åœ¨ `scheduler_config.json` çš„ `schedules` æ•°ç»„ä¸­æ·»åŠ æ–°ä»»åŠ¡ï¼š

```json
{
    "name": "custom_run",
    "enabled": true,
    "type": "daily",
    "time": "12:00",
    "description": "è‡ªå®šä¹‰ä¸­åˆ12ç‚¹è¿è¡Œ"
}
```

### ç¦ç”¨ç‰¹å®šä»»åŠ¡

å°†ä»»åŠ¡çš„ `enabled` å­—æ®µè®¾ç½®ä¸º `false`ï¼š

```json
{
    "name": "evening_run",
    "enabled": false,
    "type": "daily",
    "time": "20:00",
    "description": "æ¯å¤©æ™šä¸Š8ç‚¹è¿è¡Œï¼ˆå·²ç¦ç”¨ï¼‰"
}
```

### ä¸´æ—¶ç¦ç”¨æ‰€æœ‰è°ƒåº¦

åœ¨ `scheduler_settings` ä¸­è®¾ç½®ï¼š

```json
{
    "scheduler_settings": {
        "enabled": false
    }
}
```

## æ•…éšœæ’é™¤

### è°ƒåº¦å™¨æ— æ³•å¯åŠ¨

1. **æ£€æŸ¥è™šæ‹Ÿç¯å¢ƒ**:
   ```bash
   .\venv_new\Scripts\Activate.ps1
   pip list | findstr schedule
   ```

2. **æ£€æŸ¥é…ç½®æ–‡ä»¶**:
   - ç¡®ä¿ `scheduler_config.json` æ ¼å¼æ­£ç¡®
   - ä½¿ç”¨JSONéªŒè¯å·¥å…·æ£€æŸ¥è¯­æ³•

3. **æŸ¥çœ‹æ—¥å¿—**:
   ```bash
   type scheduler.log
   ```

### ä»»åŠ¡æ²¡æœ‰æŒ‰æ—¶æ‰§è¡Œ

1. **æ£€æŸ¥ç³»ç»Ÿæ—¶é—´**: ç¡®ä¿ç³»ç»Ÿæ—¶é—´æ­£ç¡®
2. **æŸ¥çœ‹è°ƒåº¦çŠ¶æ€**: `python scheduler.py schedule`
3. **æ£€æŸ¥æ—¥å¿—**: æŸ¥çœ‹ `scheduler.log` ä¸­çš„é”™è¯¯ä¿¡æ¯

### æœºå™¨äººæ‰§è¡Œå¤±è´¥

1. **æ‰‹åŠ¨æµ‹è¯•**: `python scheduler.py run`
2. **æ£€æŸ¥ä¾èµ–**: ç¡®ä¿æ‰€æœ‰ä¾èµ–åŒ…å·²å®‰è£…
3. **æŸ¥çœ‹æœºå™¨äººæ—¥å¿—**: `type youtube_bot.log`

## é«˜çº§é…ç½®

### è®¾ç½®æ‰§è¡Œè¶…æ—¶

```json
{
    "scheduler_settings": {
        "execution_timeout_minutes": 180  // 3å°æ—¶è¶…æ—¶
    }
}
```

### é˜²æ­¢å¹¶å‘è¿è¡Œ

```json
{
    "scheduler_settings": {
        "max_concurrent_runs": 1  // åŒæ—¶åªå…è®¸ä¸€ä¸ªå®ä¾‹è¿è¡Œ
    }
}
```

## æ³¨æ„äº‹é¡¹

1. **ç³»ç»Ÿè¦æ±‚**: ç¡®ä¿è®¡ç®—æœºåœ¨è°ƒåº¦æ—¶é—´å¤„äºå¼€æœºçŠ¶æ€
2. **ç½‘ç»œè¿æ¥**: ç¡®ä¿ç½‘ç»œè¿æ¥ç¨³å®š
3. **èµ„æºå ç”¨**: é•¿æ—¶é—´è¿è¡Œå¯èƒ½å ç”¨ç³»ç»Ÿèµ„æº
4. **åˆè§„ä½¿ç”¨**: éµå®ˆYouTubeä½¿ç”¨æ¡æ¬¾å’Œç›¸å…³æ³•å¾‹æ³•è§„
5. **å®šæœŸç»´æŠ¤**: å®šæœŸæ£€æŸ¥æ—¥å¿—æ–‡ä»¶ï¼Œæ¸…ç†è¿‡æœŸæ—¥å¿—

## å‘½ä»¤å‚è€ƒ

```bash
# å¯åŠ¨è°ƒåº¦å™¨ï¼ˆæŒç»­è¿è¡Œï¼‰
python scheduler.py start

# æ˜¾ç¤ºè°ƒåº¦è®¡åˆ’
python scheduler.py schedule

# ç«‹å³è¿è¡Œä¸€æ¬¡
python scheduler.py run

# æ˜¾ç¤ºå¸®åŠ©ä¿¡æ¯
python scheduler.py
```

## æ›´æ–°æ—¥å¿—

- **v1.0.0**: åˆå§‹ç‰ˆæœ¬ï¼Œæ”¯æŒåŸºæœ¬çš„å®šæ—¶è°ƒåº¦åŠŸèƒ½
- æ”¯æŒæ¯æ—¥ã€æ¯å°æ—¶ã€æ¯å‘¨è°ƒåº¦æ¨¡å¼
- é…ç½®æ–‡ä»¶ç®¡ç†
- å®Œå–„çš„æ—¥å¿—è®°å½•
- é”™è¯¯å¤„ç†å’Œæ¢å¤æœºåˆ¶

---

å¦‚æœ‰é—®é¢˜æˆ–å»ºè®®ï¼Œè¯·æŸ¥çœ‹æ—¥å¿—æ–‡ä»¶æˆ–è”ç³»æŠ€æœ¯æ”¯æŒã€‚